<!DOCTYPE html>

<html>

<head>

    <title>Puzzle</title>

    <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/bootstrap-reboot.css">
    <link rel="stylesheet" href="css/bootstrap-grid.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/style.css">

</head>

<body onload="runWebGL();">
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" href="#"><i class="fa fa-puzzle-piece" aria-hidden="true"></i>
             Puzzle</small></a>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav" id="components">
            </ul>
        </div>
        <div class="pull-right">
            <div class="input-group">
                <button class="btn btn-success btn-sm text-uppercase" id="next-puzzle">Next Puzzle <i class="fa fa-fast-forward" aria-hidden="true"></i></button>
                <button class="btn btn-light btn-sm text-uppercase" style="background-color: #ebebeb" id="scale-up-button"><i class="fa fa-search-plus" aria-hidden="true"></i></button>
                <button class="btn btn-light btn-sm text-uppercase" style="background-color: #ebebeb" id="scale-down-button"><i class="fa fa-search-minus" aria-hidden="true"></i></button>
                <button class="btn btn-light btn-sm text-uppercase" style="background-color: #ebebeb" id="reset-button"><i class="fa fa-eraser" aria-hidden="true"></i></button>
            </div>
        </div>
    </nav>

    <div class="container-fluid">

        <div class="row"  style="margin-top: 20px">
            <div class="col-lg-4">
                <div class="card">
                    <div class="card-header text-uppercase">
                        piece controls
                    </div>
                    <div class="card-body" style="padding: 5px">
                        <button class="btn btn-light btn-sm text-uppercase" style="background-color: #ebebeb" id="XX-rotate-CW-button">XX <i class="fa fa-repeat" aria-hidden="true"></i></button>
                        <button class="btn btn-light btn-sm text-uppercase" style="background-color: #ebebeb" id="XX-rotate-CCW-button">XX <i class="fa fa-undo" aria-hidden="true"></i></button>
                        <button class="btn btn-light btn-sm text-uppercase" style="background-color: #ebebeb" id="YY-rotate-CW-button">YY <i class="fa fa-repeat" aria-hidden="true"></i></button>
                        <button class="btn btn-light btn-sm text-uppercase" style="background-color: #ebebeb" id="YY-rotate-CCW-button">YY <i class="fa fa-undo" aria-hidden="true"></i></button>
                        <button class="btn btn-light btn-sm text-uppercase" style="background-color: #ebebeb" id="ZZ-rotate-CW-button">ZZ <i class="fa fa-repeat" aria-hidden="true"></i></button>
                        <button class="btn btn-light btn-sm text-uppercase" style="background-color: #ebebeb" id="ZZ-rotate-CCW-button">ZZ <i class="fa fa-undo" aria-hidden="true"></i></button>
                    </div>
                    <div class="card-header text-uppercase">
                        drag speed
                    </div>
                    <div class="card-body" style="padding: 5px">
                        <input type="range" id="speed" min="0.001" value="0.0026" max="0.01" step="0.0001">
                    </div>
                    <div class="card-header text-uppercase">
                        puzzle goal <span id="puzzle_success"  class="badge badge-success">Success</span>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-lg-12">
                                <img src="img/goal.png" style="width: 100%;">
                            </div>
                        </div>
                        <div class="row" style="margin-top: 10px">
                            <div class="col-lg-12">
                                <ul class="nav nav-tabs" id="completed_list" role="list"></ul>
                                <div class="tab-content" id="completed_content"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-8">
                <div style="text-align: center">
                    <canvas id="webgl-id" style="border:1px solid #000000;" width="700" height="550"></canvas>
                </div>
            </div>
        </div>



    </div>


    <!-- WebGL code -->

    <script id="shader-vs" type="x-shader/x-vertex">
	    attribute vec3 aVertexPosition;
	    attribute vec3 aVertexColor;
	    uniform mat4 uMVMatrix;
	    uniform mat4 uPMatrix;
	    varying vec4 vertexColor;

	    void main(void) {
			// To allow seeing the points drawn
			gl_PointSize = 5.0;

			// Just converting the (x,y,z) vertices to Homogeneous Coord.
			// And multiplying by the Projection and the Model-View matrix
	        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

	        // Converting the RGB color value to RGBA
	        vertexColor = vec4(aVertexColor, 1.0);
	    }
	</script>

    <script id="shader-fs" type="x-shader/x-fragment">
		precision mediump float;
		varying vec4 vertexColor;

		void main(void) {
			// Using the passed vertex color
			gl_FragColor = vertexColor;
		}
	</script>

    <script id="shader-vsback" type="x-shader/x-vertex">
        attribute vec3 aVertexPosition;
        attribute vec2 aTextureCoord;
        uniform mat4 uMVMatrix;
        uniform mat4 uPMatrix;
        varying vec2 vTextureCoord;

	    void main(void) {
			// To allow seeing the points drawn
			// Just converting the (x,y,z) vertices to Homogeneous Coord.
			// And multiplying by the Projection and the Model-View matrix
	        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

	        // Converting the RGB color value to RGBA
            vTextureCoord = aTextureCoord;
	    }
	</script>

    <script id="shader-fsback" type="x-shader/x-fragment">
		precision mediump float;
		varying vec2 vTextureCoord;
        uniform sampler2D uSampler;

		void main(void) {
			// Using the passed vertex color
			gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));
		}
	</script>

    <!-- The JS files -->
    <script type="text/javascript" src="js/jquery-3.2.1.js"></script>

    <!-- Some useful functions for browser compatibility -->
    <script type="text/javascript" src="js/webgl-utils.js"></script>

    <!-- Handling vectors and matrices -->
    <script type="text/javascript" src="js/maths.js"></script>

    <!-- Processing triangle mesh models -->
    <script type="text/javascript" src="js/cv/initShaders.js"></script>
    <script type="text/javascript" src="js/cv/utils.js"></script>

    <!-- WebGL code -->
    <script type="text/javascript" src="js/cv/lightSources.js"></script>
    <script type="text/javascript" src="js/cv/initShaders.js"></script>
    <script type="text/javascript" src="js/cv/puzzle_definition.js"></script>
    <script type="text/javascript" src="js/cv/piece.js"></script>
    <script type="text/javascript" src="js/cv/puzzle.js"></script>
    <script type="text/javascript" src="js/cv/runWebGL.js"></script>
    <!-- end -->

    <!-- Event listeners -->
    <script type="text/javascript" src="js/listeners.js"></script>
    <!-- end -->

    <script type="text/javascript" src="js/popper.js"></script>
    <script type="text/javascript" src="js/bootstrap.js"></script>
</body>

</html>
